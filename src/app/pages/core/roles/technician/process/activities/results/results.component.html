<p-fluid>
    <p-button [icon]="PrimeIcons.LIST_CHECK" label=" 3. Resultados" (click)="showDialog()" />
</p-fluid>

<p-dialog header="Seleccione la Actividad y/o Modalidad Turística; clasificación y categoría de ser el caso"
    [(visible)]="isVisibleModal" [modal]="true" [breakpoints]="{ '1199px': '90vw', '900px': '95vw', '575px': '98vw' }"
    [style]="{ width: '80vw', minWidth: '600px', maxWidth: '95vw' }" [draggable]="false" [resizable]="false">
    <p-fluid>
        <div class="card flex flex-col">
            <div class="grid grid-cols-1 md:grid-cols-12">

                <div class="md:col-span-12 flex flex-col">
                    <label appLabel for="state" label="Estado de la Inspección">
                    </label>

                    <p-select [options]="states" [formControl]="stateControl" optionLabel="name" appendTo="body">
                    </p-select>

                    <p-message appErrorMessage [errors]="stateControl.errors" [touched]="stateControl.touched"
                        [dirty]="stateControl.dirty" />
                </div>

                @if (stateControl.value) {
                <div class="md:col-span-12 flex flex-col">
                    @switch (stateControl.value.code) {
                    @case (CatalogueCadastresStateEnum.ratified) {
                    <app-ratified-status cadastreId="928d55e9-96e0-4ecd-85c2-b9bd525db8a2"
                        [state]="stateControl.value"
                        (formEmitted)="closeModal()" />
                    }
                    @case (CatalogueCadastresStateEnum.inactive) {
                    <app-inactive-status cadastreId="928d55e9-96e0-4ecd-85c2-b9bd525db8a2"
                        [state]="stateControl.value"
                        (formEmitted)="closeModal()" />
                    }
                    @case (CatalogueCadastresStateEnum.temporary_suspension) {
                    <app-temporary-suspension-status cadastreId="928d55e9-96e0-4ecd-85c2-b9bd525db8a2"
                        [state]="stateControl.value"
                        (formEmitted)="closeModal()" />
                    }
                    @case (CatalogueCadastresStateEnum.definitive_suspension) {
                    <app-definitive-suspension-status cadastreId="928d55e9-96e0-4ecd-85c2-b9bd525db8a2"
                        activityId="f67ee043-ccf4-4d13-b773-152281ac7103"
                        classificationId="53cdc421-ee96-4448-a2da-910dc37bddf1"
                        categoryId="df9547c1-947b-43e4-9279-10e893da25f6"

                        [state]="stateControl.value"
                        (formEmitted)="closeModal()" />
                    }
                    @case (CatalogueCadastresStateEnum.recategorized) {
                    <app-recategorized-status cadastreId="928d55e9-96e0-4ecd-85c2-b9bd525db8a2"
                        activityId="f67ee043-ccf4-4d13-b773-152281ac7103"
                        classificationId="53cdc421-ee96-4448-a2da-910dc37bddf1"
                        categoryId="df9547c1-947b-43e4-9279-10e893da25f6"
                        [state]="stateControl.value"
                        (formEmitted)="closeModal()" />
                    }
                    @case (CatalogueCadastresStateEnum.reclassified) {
                    <app-reclassified-status cadastreId="928d55e9-96e0-4ecd-85c2-b9bd525db8a2"
                        activityId="f67ee043-ccf4-4d13-b773-152281ac7103"
                        classificationId="53cdc421-ee96-4448-a2da-910dc37bddf1"
                        categoryId="df9547c1-947b-43e4-9279-10e893da25f6"
                        [state]="stateControl.value"
                        (formEmitted)="closeModal()" />
                    }
                    }
                </div>
                }
            </div>
        </div>
    </p-fluid>
</p-dialog>
