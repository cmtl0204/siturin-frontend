<p-fluid>
    <form
        [formGroup]="form"
        class="card flex flex-col gap-6 w-full">

        <!-- hasComplementaryServices -->
        <div class="md:col-span-12 flex flex-col gap-2">
            <label
                appLabel
                for="hasComplementaryServices"
                [required]="hasComplementaryServicesField"
                label="Servicios Complementarios
                    ¿Su Establecimiento oferta alguna modalidad de turismo de aventura dentro de sus linderos?">
            </label>

            <p-toggleswitch id="hasComplementaryServices" formControlName="hasComplementaryServices">
                <ng-template #handle let-checked="checked">
                    <span class="!text-xs font-semibold">{{ checked ? 'SÍ' : 'NO' }}</span>
                </ng-template>
            </p-toggleswitch>

            <p-message
                appErrorMessage
                [errors]="hasComplementaryServicesField.errors"
                [touched]="hasComplementaryServicesField.touched"
                [dirty]="hasComplementaryServicesField.dirty" />
        </div>
    </form>
</p-fluid>

<p-fluid>
    @if (hasComplementaryServicesField.value) {
        <app-list-basic
            title="Listado de de Servicios Compelementarios"
            [items]="items"
            [cols]="cols"
            [buttonActions]="buttonActions"
            (onCreate)="create()"
            (onSelect)="buildButtonActions($event)"
        />
    }
</p-fluid>

<p-dialog [(visible)]="isVisibleModal"
          [modal]="true"
          [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }"
          [style]="{ width: '25vw' }"
          [draggable]="false"
          (onHide)="closeModal()"
          [resizable]="false">
    <ng-template #header>
        <div class="inline-flex items-center justify-center gap-2">
            <span class="font-bold whitespace-nowrap">
                Agregar Guía de Turismo
            </span>
        </div>
    </ng-template>

    <p-fluid>
        <form [formGroup]="complementaryServiceForm" (ngSubmit)="onSubmit()" class="card flex flex-col gap-2 w-full">
            <div class="grid grid-cols-1 md:grid-cols-12 gap-6">
                <!-- model -->
                <div class="md:col-span-12 flex flex-col gap-2">
                    <label
                        appLabel
                        for="model"
                        [required]="modelField"
                        label="Tipo">
                    </label>

                    <p-select id="roomType"
                              [options]="models"
                              formControlName="model"
                              optionLabel="name">
                    </p-select>

                    <p-message
                        appErrorMessage
                        [errors]="modelField.errors"
                        [touched]="modelField.touched"
                        [dirty]="modelField.dirty" />
                </div>

                <div class="md:col-span-12 flex flex-col gap-2">
                    <label
                        appLabel
                        for="capacity"
                        [required]="capacityField"
                        label="Capacidad de Personas">
                    </label>

                    <p-inputNumber
                        formControlName="capacity"
                        [min]="0"
                        [max]="1000"
                        showButtons
                        inputId="Capacity"
                        class="w-full">
                    </p-inputNumber>

                    <p-message
                        appErrorMessage
                        [errors]="capacityField.errors"
                        [touched]="capacityField.touched"
                        [dirty]="capacityField.dirty" />
                </div>

                <!-- actions -->
                <div class="md:col-span-12 flex flex-col gap-2">
                    <p-button type="submit" label="Agregar" [icon]="PrimeIcons.SAVE" />
                </div>
            </div>
        </form>
    </p-fluid>

</p-dialog>

