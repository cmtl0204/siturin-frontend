<p-fluid>
    <form [formGroup]="form" class="card flex flex-col gap-6 w-full">
        <div class="grid grid-cols-1 md:grid-cols-12 gap-6">
            <!-- establishmentType -->
            <div class="md:col-span-6 flex flex-col gap-2">
                <label
                    appLabel for="establishmentType"
                    label="Tipo de Establecimiento"
                    [required]="establishmentTypeField">
                </label>

                <p-select
                    [options]="establishmentType"
                    formControlName="establishmentType"
                    optionLabel="name"
                    [filter]="true" />

                <p-message
                    appErrorMessage
                    [errors]="establishmentTypeField.errors"
                    [touched]="establishmentTypeField.touched"
                    [dirty]="establishmentTypeField.dirty" />
            </div>

            <!-- establishmentName -->
            @if (establishmentNameField.hasValidator(Validators.required)) {
                <div class="md:col-span-6 flex flex-col gap-2">
                    <label
                        appLabel for="establishmentName"
                        [required]="establishmentNameField"
                        label="Nombre de la Franquicia o Cadena">
                    </label>

                    <input pInputText id="establishmentName" formControlName="establishmentName"
                           placeholder="Nombre..." />

                    <p-message appErrorMessage [errors]="establishmentNameField.errors"
                               [touched]="establishmentNameField.touched" [dirty]="establishmentNameField.dirty" />
                </div>
            }

            <!-- franchiseCertificate -->
            @if (hasFranchiseGrantCertificateField.hasValidator(Validators.required)) {
                <div class="md:col-span-12 flex flex-col gap-2">
                    <label appLabel for="hasFranchiseGrantCertificate"
                           label="Al momento de la inspecci칩n se presentar치 la certificaci칩n de concesi칩n de la franquicia"
                           [required]="hasFranchiseGrantCertificateField">
                    </label>

                    <p-toggleswitch id="hasFranchiseGrantCertificate" formControlName="hasFranchiseGrantCertificate">
                        <ng-template #handle let-checked="checked">
                            <span class="!text-xs font-semibold">{{ checked ? 'Si' : 'No' }} </span>
                        </ng-template>
                    </p-toggleswitch>

                    <p-message appErrorMessage [errors]="hasFranchiseGrantCertificateField.errors"
                               [touched]="hasFranchiseGrantCertificateField.touched"
                               [dirty]="hasFranchiseGrantCertificateField.dirty" />
                </div>
            }
        </div>
    </form>
</p-fluid>
