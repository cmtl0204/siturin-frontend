<h1>Simulador para identificar actividad turística y clasificación</h1>

<p-divider />
<app-regulation-simulator-form (outputFormValue)="onFormValueChanges($event)" />
<p-divider />

@switch (activity()?.code) {
    @case (catalogueActivitiesCodeEnum.ctc_continent) {
        <app-ctc [classificationInput]="classification()" [contributorType]="contributorType()" />
    }
    @case (catalogueActivitiesCodeEnum.accommodation_continent) {
        <app-continent-accommodation [classificationInput]="classification()" [contributorType]="contributorType()" />
    }
    @case (catalogueActivitiesCodeEnum.food_drink_continent || catalogueActivitiesCodeEnum.food_drink_galapagos) {
        @if (geographicZone()?.code == 'galapagos') {
            <app-food-drink-galapagos [classificationInput]="classification()" [contributorType]="contributorType()" />
        } @else {
            <app-food-drink-continent [classificationInput]="classification()" [contributorType]="contributorType()" />
        }
    }
    @case (catalogueActivitiesCodeEnum.agency_continent || catalogueActivitiesCodeEnum.agency_galapagos) {
        <app-agency [classificationInput]="classification()" [contributorType]="contributorType()" />
    }
    @case (catalogueActivitiesCodeEnum.park_continent || catalogueActivitiesCodeEnum.park_galapagos) {
        <app-park [classificationInput]="classification()" [contributorType]="contributorType()" />
    }
    @case (catalogueActivitiesCodeEnum.transport_continent || catalogueActivitiesCodeEnum.transport_galapagos) {
        <app-tourist-transport [classificationInput]="classification()" [contributorType]="contributorType()" />
    }
    @case (catalogueActivitiesCodeEnum.event_continent || catalogueActivitiesCodeEnum.event_galapagos) {
        <app-event [classificationInput]="classification()" [contributorType]="contributorType()" />
    }
}

<p-message severity="warn" styleClass="flex flex-col gap-2">
    <div class="flex flex-col">
        <p class="font-bold text-lg">Atención</p>
        <p class="text-md leading-relaxed">
            Los requisitos que se detallan a continuación serán verificados por los funcionarios del Ministerio de Turismo durante la visita a su establecimiento. Se recomienda asegurarse de que su establecimiento cumpla con cada uno de ellos para
            facilitar el proceso de inspección.
        </p>
    </div>
</p-message>

<app-regulation [isProtectedArea]="isProtectedArea" [modelId]="modelId()" (formSubmitted)="onRegulationSubmitted($event)" />
